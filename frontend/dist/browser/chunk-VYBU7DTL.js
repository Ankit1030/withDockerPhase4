import{a as ue}from"./chunk-ONPOCEYN.js";import{b as Q,d as E,f as W,g as Y,h as Z,j as J,k as X,l as ee,n as te,p as ie,q as re,r as se,s as oe,t as ae,v as ne,w as le,x as ce}from"./chunk-43DCFWML.js";import{b as P,n as de,p as y}from"./chunk-2GWGYD35.js";import{Ac as q,Cb as g,Eb as b,Hb as k,Jb as B,Kb as O,Lb as L,Nb as o,Ob as v,Pa as N,Pb as R,Qb as D,Rb as j,Sa as c,Sb as G,Ta as x,Tb as $,V as U,Vb as z,_ as I,ea as V,hb as _,ib as M,jb as p,ma as m,na as h,ob as w,rb as T,sb as F,tb as s,ub as r,vb as f,wc as K,xc as H,zb as A}from"./chunk-53WIH66V.js";import{f as S}from"./chunk-6GU5JNHE.js";var me=(()=>{let l=class l{constructor(t){this.http=t,this.backendUrl=y.backendUrl,this.newserverurl=this.backendUrl+"/users/"}get_allusers(t){return this.http.post(`${this.newserverurl}get_users`,t)}saveUser(t){return this.http.post(`${this.newserverurl}save_user`,t)}updateUser(t){return this.http.post(`${this.newserverurl}update_user`,t)}deleteUser(t){return this.http.post(`${this.newserverurl}delete_user`,{_id:t})}getDefaultCardDetails(t){return this.http.post(`${this.newserverurl}get_defaultcard`,{customerid:t})}addCardToCustomer(t,e){return this.http.post(`${this.newserverurl}add_card`,{customerid:t,tokenid:e})}setDefaultCard(t,e){return this.http.post(`${this.newserverurl}set_defaultcard`,{customerid:t,cardId:e})}deleteSourceCard(t,e){return this.http.post(`${this.newserverurl}delete_card`,{customerid:t,cardid:e})}};l.\u0275fac=function(e){return new(e||l)(I(P))},l.\u0275prov=U({token:l,factory:l.\u0275fac,providedIn:"root"});let a=l;return a})();var _e=["closeButton"],he=(a,l)=>l._id;function be(a,l){a&1&&(s(0,"div",49),o(1,"User Name is required"),r())}function ve(a,l){a&1&&(s(0,"div",49),o(1,"Please enter a valid email address"),r())}function Ce(a,l){if(a&1&&(s(0,"option",15),o(1),r()),a&2){let u=l.$implicit;p("value",u._id),c(),D("",u.countryid.ccallcode," (",u.countryid.ccode,")")}}function Ee(a,l){a&1&&(s(0,"div",49),o(1,"Please select country code"),r())}function xe(a,l){a&1&&(s(0,"div",49),o(1,"Please enter a 10 digit phone number"),r())}function Ae(a,l){a&1&&(s(0,"div",49),o(1,"File size exceeds 5MB"),r())}function Pe(a,l){a&1&&(s(0,"div",49),o(1,"Invalid file type. Only PNG and JPEG allowed."),r())}function ye(a,l){a&1&&(s(0,"div",49),o(1,"Please select image file "),r())}function Se(a,l){a&1&&(s(0,"button",19),o(1,"Submit"),r())}function we(a,l){a&1&&(s(0,"button",50),o(1,"Update"),r())}function Te(a,l){if(a&1){let u=A();s(0,"tr")(1,"td"),o(2),r(),s(3,"td"),o(4),r(),s(5,"td"),f(6,"img",51),r(),s(7,"td"),o(8),r(),s(9,"td"),o(10),r(),s(11,"td"),o(12),r(),s(13,"td")(14,"button",52),g("click",function(){let e=m(u).$implicit,i=b();return h(i.customerid(e))}),o(15,"Cards"),r()(),s(16,"td")(17,"button",53),g("click",function(){let e=m(u).$implicit,i=b();return h(i.editUser(e))}),o(18,"Edit"),r()(),s(19,"td")(20,"button",54),g("click",function(){let e=m(u).$implicit,i=b();return h(i.deleteUser(e))}),o(21,"Delete"),r()()()}if(a&2){let u=l.$implicit,t=b();M("id",u._id),c(2),v(u.user_no),c(2),v(u.uname),c(2),p("src",t.backendUrl+"/uploads/allusers/"+u.uimage,N),c(2),v(u.uemail),c(2),v(u.ccode.ccallcode),c(2),v(u.uphone)}}function Fe(a,l){if(a&1){let u=A();s(0,"tr",37)(1,"td",37)(2,"input",57),g("change",function(){let e=m(u).$implicit,i=b(2);return h(i.onSelectCard(e.id))}),r()(),s(3,"td",37)(4,"label",58),o(5),r()(),s(6,"td",37)(7,"button",54),g("click",function(){let e=m(u).$implicit,i=b(2);return h(i.ondelete(e.id))}),f(8,"i",59),r()()()}if(a&2){let u=l.$implicit;c(2),k("id","card",u.id,""),p("value",u.id)("formControlName","selectedCard"),c(2),k("for","card",u.id,""),c(),D("",u.card.brand," xxxx xxxx xxxx ",u.card.last4,"")}}function ke(a,l){if(a&1&&(s(0,"table",46)(1,"thead")(2,"tr")(3,"th"),o(4,"default"),r(),s(5,"th",55),o(6,"Name"),r(),s(7,"th"),o(8,"Action"),r()()(),s(9,"tbody"),_(10,Fe,9,8,"tr",56),r()()),a&2){let u=b();c(10),p("ngForOf",u.cardDetails)}}function De(a,l){a&1&&(s(0,"h2"),o(1,"Loading....."),r())}var Re=(()=>{let l=class l{get backendUrl(){return this.mybackendUrl}constructor(t,e,i,n,d){this.formBuilder=t,this.http=e,this.toaster=i,this.getservice=n,this.userservice=d,this.defaultccode="select code",this.currentPage=1,this.sortcol="uname",this.searchTerm="",this.sortval=0,this.previousval="",this.dataPerPage=3,this.updateBtnStatus=!1,this.flag=!1,this.isimageupdated=!1,this.state="Normal",this.maxFileSize=5*1024*1024,this.allowedFileTypes=["image/jpeg","image/jpg","image/png"],this.fileSizeError=!1,this.fileTypeError=!1,this.loadpage=!1,this.handler=null,this.mybackendUrl=y.backendUrl,this.isAddCountryModalOpen=!1,this.cardDetails=[],this.stripe_publickey="pk_test_51PKFnuA9DbTl3x7cOh2yVgk4GLO2FUV8ozgk38gVI0vdDjx1gUWw4LiGMgnxAQsz90osPzQP1xkANmZzmnNRemG800RuF9gNST"}ngOnInit(){this.loadStripe(),this.userForm=this.formBuilder.group({uname:["",E.required],uemail:["",[E.required,E.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)]],ccode:["",E.required],uphone:["",[E.required,E.pattern(/^[1-9]{1}[0-9]{9}$/)]],uimage:[""]}),this.cardForm=this.formBuilder.group({selectedCard:new J("")}),console.log("1 this.loadpage",this.loadpage),this.fetch_table_data({searchTerm:"",currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage}),console.log("2 this.loadpage",this.loadpage),console.log("3 this.loadpage",this.loadpage),this.get_country_callcodes()}get_country_callcodes(){this.getservice.getZonedCountries().subscribe({next:t=>{console.warn(t),t.success===!0&&(this.allcodes=t.data,this.toaster.success("country code received","success"))},error:t=>{console.log("get_country_callcodes() error",t)},complete:()=>{console.log("COMPLETED get_country_callcodes()")}})}onFileChange(t){console.log("FILE CHANGE EVENT");let e=t.target.files[0];if(!this.allowedFileTypes.includes(e.type)){this.fileTypeError=!0;return}if(e){if(e.size>this.maxFileSize){this.fileSizeError=!0;return}this.fileSizeError=!1,this.fileTypeError=!1,this.isimageupdated=!0,this.selected_image=e}else console.log("IMAGE SELECCT NAHI KIYAHAI BHAI-----------------------")}onFileInputClick(){this.isimageupdated=!1,console.log("--------------ONFILE CLICK------------"),this.selected_image=null}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof Z&&this.markFormGroupTouched(e)})}submitUserProfile(){this.markFormGroupTouched(this.userForm);let t=this.userForm.get("uname").value;if(this.userForm.get("uname").setValue(t.trim()),this.userForm.invalid){this.toaster.error("Please complete the form","Invalid Form");return}if(this.formData=new FormData,this.flag===!0){console.log(" inside flag true"),this.formData.append("_id",this.selected_user._id),this.selected_image&&this.formData.append("uimage",this.selected_image),this.formData.append("uname",this.userForm.get("uname").value),this.formData.append("ccode",this.userForm.get("ccode").value),this.formData.append("uphone",this.userForm.get("uphone").value),this.formData.append("uemail",this.userForm.get("uemail").value),console.log(this.formData),console.log(this.selected_user._id),console.log(this.userForm.value),this.update_data(this.formData);return}if(console.warn("this.userForm.valid",this.userForm.valid),this.userForm.valid&&this.isimageupdated){if(console.warn("---------->>><<<<<<<--------------------"),console.log(this.userForm.value),!this.selected_image){this.toaster.warning("Please select the User Profile");return}this.formData.append("uimage",this.selected_image),this.formData.append("uname",this.userForm.get("uname").value),this.formData.append("ccode",this.userForm.get("ccode").value),this.formData.append("uphone",this.userForm.get("uphone").value),this.formData.append("uemail",this.userForm.get("uemail").value),this.formData.append("dataPerPage",this.dataPerPage.toString()),this.formData.append("currentPage",this.currentPage.toString()),console.log(this.formData),this.submit_data(this.formData);return}}update_data(t){this.userservice.updateUser(t).subscribe({next:e=>{console.warn(e),e.success===!0&&(this.toaster.success(e.message,"Success"),this.userForm.reset({uimage:""}),console.log("Updated res inside store_user"),this.allusers[this.index]=e.data,this.updateBtnStatus=!1,this.flag=!1,this.isimageupdated=!1)},error:e=>{if(console.log("DUPLICATE ERROR ",e),e.error.message==="Phone number already exists"){this.toaster.error(e.error.message,"Duplicate input");return}if(e.status===401){e.error.error.duplicateKeyDetails.uphone&&this.toaster.error("Duplicate Phone number","Invalid number"),e.error.error.duplicateKeyDetails.uemail&&this.toaster.error("Duplicate Email id ","Invalid email");return}if(e.status===404){this.toaster.error(e.error.message,"Failed to update"),this.userForm.get("ccode").enable(),this.userForm.reset(),this.defaultccode="select code",this.userForm.get("ccode").setValue(""),this.selected_image=null;return}console.log("USER SUBMIT ",e),this.toaster.error(e.message,"Error")},complete:()=>{console.log("SUBMITTED COMPLETED"),this.userForm.get("ccode").enable(),this.userForm.reset(),this.defaultccode="select code",this.userForm.get("ccode").setValue(""),this.selected_image=null}})}submit_data(t){this.userservice.saveUser(t).subscribe({next:e=>{if(console.warn(e),e.success===!0){if(this.toaster.success(e.message,"Success"),this.userForm.reset({uimage:""}),this.flag===!0)console.log("Updated res inside store_user"),this.allusers[this.index]=e.data,this.updateBtnStatus=!1,this.flag=!1;else{let{currentPage:i,totalCount:n}=e;i===this.currentPage?(console.log("PUSH save inside store_user"),this.allusers.push(e.data),this.searchTerm="",this.sortval=0):this.allusers=e.data,this.check_btn_status(i,n)}this.isimageupdated=!1}},error:e=>{if(console.log("DUPLICATE ERROR ",e),e.error.message==="Phone number already exists"){this.toaster.error(e.error.message,"Duplicate input");return}if(e.status===401){e.error.error.duplicateKeyDetails.uphone&&this.toaster.error("Duplicate Phone number","Invalid number"),e.error.error.duplicateKeyDetails.uemail&&this.toaster.error("Duplicate Email id ","Invalid email");return}if(e.status===404){this.toaster.error(e.error.message,"Failed to update"),this.userForm.get("ccode").enable(),this.userForm.reset(),this.defaultccode="select code",this.userForm.get("ccode").setValue(""),this.selected_image=null;return}console.log("USER SUBMIT ",e),this.toaster.error(e.message,"Error")},complete:()=>{console.log("SUBMITTED COMPLETED"),this.userForm.get("ccode").enable(),this.userForm.reset(),this.defaultccode="select code",this.userForm.get("ccode").setValue(""),this.selected_image=null}})}clearmyForm(){this.userForm.get("ccode").enable(),this.userForm.reset(),this.defaultccode="select code",this.userForm.get("ccode").setValue(""),this.selected_image=null}fetch_table_data(t){return S(this,null,function*(){this.userservice.get_allusers(t).subscribe({next:e=>{if(console.warn(e),e.success===!0){if(this.allusers=e.data,console.log("-------------------------------------------------------------------------------------"),console.log("(res.data.length === 0 && this.loadpage)",this.loadpage),console.log("-------------------------------------------------------------------------------------"),e.data.length===0&&this.loadpage){console.log("--------------->>>>>>>>>>>res.data",e.data),this.toaster.warning("No matching data found","No matching");return}console.warn("i am fetch table data-- >>>");let{currentPage:i,totalCount:n}=e;console.log(i),this.check_btn_status(i,n),this.loadpage=!0}},error:e=>{console.log("FETCH TABLE ERR",e),this.toaster.error(e.error.message,e.statusText)},complete:()=>{console.log("COMPLETED FETCH DATA TABLE")}})})}deleteUser(t){if(console.log("kuchbhi--------------------"),confirm(`Are you sure you want to delete User have email ${t.uemail}`)!==!0)return;console.log("kuchbhi--------------------"),this.index=this.allusers.findIndex(d=>d._id===t._id),console.log({_id:t._id,currentNumber:1,searchTerm:this.searchTerm,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage});let i=this.currentPage*this.dataPerPage-1;console.log(i);let n;console.log("this.isNextButtonEnable",this.isNextButtonEnable),this.isNextButtonEnable?n={_id:t._id,currentNumber:i,searchTerm:this.searchTerm,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage}:n={_id:t._id},console.log("deletedata",n),this.userservice.deleteUser(n).subscribe({next:d=>{if(console.log(d),d.success===!0){this.toaster.success(d.message,"Success"),this.allusers.splice(this.index,1),this.allusers.length===0&&this.PrevBtn(),d.data.length!==0&&(this.allusers.push(d.data),this.check_btn_status(this.currentPage,d.totalCount));return}else{this.toaster.error("Something went wrong","Error");return}},error:d=>{console.log("DELETE ERR",d),this.toaster.error(d.message,"Error")},complete:()=>{console.log("COMPLETED DELETE ROUTE")}})}editUser(t){this.userForm.get("ccode").disable(),this.flag=!0,this.updateBtnStatus=!0,this.isimageupdated=!0,this.selected_user=t,console.warn(this.selected_user),this.index=this.allusers.findIndex(e=>e._id===t._id),console.warn(this.index,"_id us ",this.selected_user._id),console.log(this.selected_user.ccode.ccallcode,"--------------------------------"),console.log("Edit pricing is clicked here"),this.userForm.patchValue({ccode:this.selected_user.ccode._id,uname:this.selected_user.uname,uphone:this.selected_user.uphone,uemail:this.selected_user.uemail})}searchBtn_clicked(){let t=this.searchTerm;console.log("SEARCHBTN CLICKED");let e=/^[a-zA-Z0-9 ]*$/;if(console.log(e.test(t),"----------------------------------------------"),!e.test(t)){this.toaster.error("Please enter alphabet or letters only","Invalid input");return}this.currentPage=1,console.warn(t),t==""&&this.fetch_table_data({searchTerm:"",currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage}),t!==this.previousval&&(console.warn(" LLAAALALALALALALALALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),this.fetch_table_data({searchTerm:this.searchTerm,currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage}))}NextBtn(){this.currentPage<this.mytotalCount/this.dataPerPage?(this.currentPage++,this.fetch_table_data({searchTerm:this.searchTerm,currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage}),console.log("NEXT BTN CLICKED")):this.toaster.warning("No data available to show","You are already on Last Page")}PrevBtn(){this.currentPage>1?(this.currentPage--,this.fetch_table_data({searchTerm:this.searchTerm,currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage})):this.toaster.warning("No previous record available","You are already on First Page"),console.log("PRIVIOUS BTN CLICKED")}check_btn_status(t,e){this.currentPage=t,this.mytotalCount=e,this.isPrevButtonEnable=t!==1,this.isNextButtonEnable=t*this.dataPerPage<e}toggleState(t){return S(this,null,function*(){t===this.sortcol?(this.sortval===0?(this.state="Ascending",this.sortval=1):this.sortval===1?(this.state="Descending",this.sortval=-1):this.sortval===-1&&(this.sortval=0,this.state="Normal"),console.log("----IF----"+this.sortcol+" "+this.sortval)):(this.sortval=1,this.sortcol=t,this.state="Ascending",console.log("*--ELSE----*"+this.sortcol+" "+this.sortval)),console.warn("sortcol",this.sortcol,this.sortval),this.currentPage=1,this.fetch_table_data({searchTerm:this.searchTerm,currentPage:this.currentPage,sortcol:this.sortcol,sortval:this.sortval,dataPerPage:this.dataPerPage})})}closeModal(){this.closeButton&&this.closeButton.nativeElement&&this.closeButton.nativeElement.click()}customerid(t){this.isAddCountryModalOpen=!1,this.defaultemail=t.uemail,this.cardDetails=[],console.log(t),this.selected_customerid=t.customerid;let e={customerid:this.selected_customerid};this.userservice.getDefaultCardDetails(t.customerid).subscribe({next:i=>{if(console.log("GET CARD DETAILS",i),i.success===!0){if(this.cardDetails=i.cardDetails,this.default_card=i.default_card,this.cardForm.get("selectedCard").setValue(this.default_card),console.log("NO CARD ADDEWD ",this.default_card),this.cardDetails.length!==0&&this.default_card!==null){this.isAddCountryModalOpen=!0,console.log("KYA KUCH BHI--------------------------------"),console.log(this.isAddCountryModalOpen,"if(this.cardDetails.length === 0 ){---------------------------");return}this.default_card==="not found"&&(this.isAddCountryModalOpen=!0)}},error:i=>{console.log("----------ERROR-------get_default_carddetails--------------------"),console.log(i)},complete:()=>{}}),console.log(this.selected_customerid,"-----------------------")}submit(){console.log("SUBMIT CLICKEDD"),console.log(this.selected_customerid,"-----------------------");var t=window.StripeCheckout.configure({email:this.defaultemail,key:this.stripe_publickey,locale:"auto",token:e=>{e&&(this.selected_tokenid=e.id,console.log("this.selected_tokenid",this.selected_tokenid),console.log("called send card details "),this.send_carddetails(),console.log("called send card details "))}});t.open({name:"Card Details",panelLabel:"Add Card"})}send_carddetails(){console.log("send_carddetails(){"),console.log(this.selected_customerid);let t={customerid:this.selected_customerid,tokenid:this.selected_tokenid};console.log(t),this.userservice.addCardToCustomer(this.selected_customerid,this.selected_tokenid).subscribe({next:e=>{if(console.log("Response from addcardToCustomer",e),e.success===!0){let i=e.data,n={id:i.id,card:{brand:i.brand,last4:i.last4}};this.cardDetails.push(n),console.log("this.cardDetails.length",this.cardDetails.length),this.cardDetails.length===1&&this.cardForm.get("selectedCard").setValue(i.id)}},error:e=>{console.log("Update catd details",e),this.toaster.error("Something went wrong","Error")},complete:()=>{console.log("Token Created!!")}})}loadStripe(){if(!window.document.getElementById("stripe-script")){var t=window.document.createElement("script");t.id="stripe-script",t.type="text/javascript",t.src="https://checkout.stripe.com/checkout.js",t.onload=()=>{this.handler=window.StripeCheckout.configure({key:this.stripe_publickey,locale:"auto",token:function(e){console.log(e),alert("Payment Success!!")}})},window.document.body.appendChild(t)}}onSelectCard(t){console.warn("selected card id is ",t),console.warn("selected customer id is ",this.selected_customerid);let e={customerid:this.selected_customerid,cardId:t};this.userservice.setDefaultCard(this.selected_customerid,t).subscribe({next:i=>{console.log("set default card ",i),i.success===!0&&(this.toaster.success(i.message,"Success"),this.cardForm.get("selectedCard").setValue(t))},error:i=>{console.log("set default card error",i),this.toaster.error("Something went wrong server error","Error")},complete:()=>{console.log("Completed set default card")}})}ondelete(t){alert("Are you sure you want to Delete this Card !"),console.log(this.selected_customerid);let e=this.cardDetails.findIndex(n=>n.id===t),i={customerid:this.selected_customerid,cardid:t};this.userservice.deleteSourceCard(this.selected_customerid,t).subscribe({next:n=>{if(console.log("Delete response",n),n.success===!0){n.default_cardId!==null&&this.cardForm.get("selectedCard").setValue(n.default_cardId);let d=this.cardDetails.findIndex(C=>C.id===t);this.cardDetails.splice(d,1)}},error:n=>{console.log("delete card from user ",n),this.toaster.error("Something went wrong","Error")},complete:()=>{}})}};l.\u0275fac=function(e){return new(e||l)(x(ne),x(P),x(de),x(ue),x(me))},l.\u0275cmp=V({type:l,selectors:[["app-users"]],viewQuery:function(e,i){if(e&1&&B(_e,5),e&2){let n;O(n=L())&&(i.closeButton=n.first)}},standalone:!0,features:[z],decls:98,vars:18,consts:[["uimage",""],["addCardModal",""],["closeButton",""],[1,"container-fluid"],[1,"mt-1",3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","placeholder","ABC","formControlName","uname",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","id","email","placeholder","abc123@xyz.com","formControlName","uemail",1,"form-control"],["for","phone"],[1,"input-group"],["formControlName","ccode",1,"custom-select"],["value","",3,"disabled"],[3,"value"],["type","text","id","phone","formControlName","uphone",1,"form-control","mx-3"],["for","image",1,""],["type","file","id","uimage","accept","image/jpeg,image/png","formControlName","uimage",1,"form-control",3,"click","change"],["type","submit",1,"form-control","btn","btn-primary","my-2"],["type","button",1,"form-control","btn","btn-dark","mt-2",3,"click"],[1,"row","mx-3","my-2"],["id","searchbar","type","text","placeholder","Search..",1,"border","col-md-7","mr-3",2,"background-color","#e0dfdf",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-info","col-md-2",3,"click"],[1,"btn","col-md-2"],[1,"table-responsive"],["id","userDataTable",1,"table","table-bordered","table-striped","table-hover","align-middle",2,"width","100%","text-align","center","font-size","18px"],[1,"thead-dark"],[1,"text-center"],["scope","col",3,"click"],[1,"bi","bi-funnel"],[2,"width","120px"],["scope","col"],[1,"align-middle","border"],[1,"d-flex","justify-content-center","gap-3"],["type","button",1,"btn","btn-dark",3,"click","disabled"],[1,"fs-3"],[1,""],["id","addCardModal","tabindex","-1","aria-labelledby","addCardModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"btn","btn-primary","mx-auto","form-control",3,"click"],[3,"formGroup"],[1,"table",2,"text-align","start"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"text-danger"],["type","submit",1,"form-control","btn","btn-success","my-2"],["alt","Vehicle Image","width","80","height","80",1,"",2,"border-radius","50%",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#addCardModal",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[2,"text-align","center"],["class"," ",4,"ngFor","ngForOf"],["type","radio",1,"mr-2",3,"change","id","value","formControlName"],[1,"fs-5","fw-bold",3,"for"],[1,"bi","bi-trash"]],template:function(e,i){if(e&1){let n=A();s(0,"div",3)(1,"form",4),g("ngSubmit",function(){return m(n),h(i.submitUserProfile())}),s(2,"div",5)(3,"label",6),o(4,"Username:"),r(),f(5,"input",7),_(6,be,2,0,"div",8),r(),s(7,"div",5)(8,"label",9),o(9,"Email:"),r(),f(10,"input",10),_(11,ve,2,0,"div",8),r(),s(12,"div",5)(13,"label",11),o(14,"Phone:"),r(),s(15,"div",12)(16,"select",13)(17,"option",14),o(18),r(),T(19,Ce,2,3,"option",15,he),r(),f(21,"input",16),r(),_(22,Ee,2,0,"div",8)(23,xe,2,0,"div",8),r(),s(24,"div",5)(25,"label",17),o(26,"User Profile:"),r(),s(27,"input",18,0),g("click",function(){return m(n),h(i.onFileInputClick())})("change",function(C){return m(n),h(i.onFileChange(C))}),r(),_(29,Ae,2,0,"div",8)(30,Pe,2,0,"div",8),r(),_(31,ye,2,0,"div",8)(32,Se,2,0,"button",19)(33,we,2,0),s(34,"button",20),g("click",function(){return m(n),h(i.clearmyForm())}),o(35,"Clear"),r()()(),s(36,"div",21)(37,"input",22),$("ngModelChange",function(C){return m(n),G(i.searchTerm,C)||(i.searchTerm=C),h(C)}),r(),s(38,"button",23),g("click",function(){return m(n),h(i.searchBtn_clicked())}),o(39,"Search"),r(),s(40,"div",24),o(41),r()(),s(42,"div",3)(43,"div",25)(44,"table",26)(45,"thead",27)(46,"tr",28)(47,"th"),o(48,"Sr no."),r(),s(49,"th",29),g("click",function(){return m(n),h(i.toggleState("uname"))}),o(50,"Name \xA0"),f(51,"i",30),r(),s(52,"th",31),o(53,"Profile image"),r(),s(54,"th",29),g("click",function(){return m(n),h(i.toggleState("uemail"))}),o(55,"Email \xA0"),f(56,"i",30),r(),s(57,"th",32),o(58,"Country code"),r(),s(59,"th",29),g("click",function(){return m(n),h(i.toggleState("uphone"))}),o(60,"Phone Number \xA0"),f(61,"i",30),r(),s(62,"th",32),o(63,"Payment"),r(),s(64,"th",32),o(65,"Edit Action"),r(),s(66,"th",32),o(67,"Delete Action"),r()()(),s(68,"tbody",33),T(69,Te,22,7,"tr",null,he),r()()()(),s(71,"div",34)(72,"button",35),g("click",function(){return m(n),h(i.PrevBtn())}),o(73,"Prev"),r(),s(74,"span",36),o(75),r(),s(76,"button",35),g("click",function(){return m(n),h(i.NextBtn())}),o(77,"Next"),r()(),f(78,"br")(79,"br")(80,"br"),s(81,"div",37)(82,"div",38,1)(84,"div",39)(85,"div",40)(86,"div",41),f(87,"button",42),r(),s(88,"div",43)(89,"button",44),g("click",function(){return m(n),h(i.submit())}),o(90,"Add new Card"),r(),s(91,"form",45),_(92,ke,11,1,"table",46)(93,De,2,0),r()(),s(94,"div",47)(95,"button",48,2),o(97,"Close"),r()()()()()()}e&2&&(c(),p("formGroup",i.userForm),c(5),p("ngIf",i.userForm.get("uname").invalid&&i.userForm.get("uname").touched),c(5),p("ngIf",i.userForm.get("uemail").invalid&&i.userForm.get("uemail").touched),c(6),p("disabled",!0),c(),v(i.defaultccode),c(),F(i.allcodes),c(3),p("ngIf",i.userForm.get("ccode").invalid&&i.userForm.get("ccode").touched),c(),p("ngIf",i.userForm.get("uphone").invalid&&i.userForm.get("uphone").touched),c(6),p("ngIf",i.fileSizeError),c(),p("ngIf",i.fileTypeError),c(),p("ngIf",!i.isimageupdated&&i.userForm.get("uimage").touched),c(),w(32,i.updateBtnStatus?33:32),c(5),j("ngModel",i.searchTerm),c(4),R("Sort: ",i.state,""),c(28),F(i.allusers),c(3),p("disabled",!i.isPrevButtonEnable),c(3),v(i.currentPage),c(),p("disabled",!i.isNextButtonEnable),c(15),p("formGroup",i.cardForm),c(),w(92,i.isAddCountryModalOpen?92:93))},dependencies:[le,ee,oe,ae,Q,se,te,W,Y,X,ce,ie,re,q,K,H],styles:["h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;margin:0 auto}.card-option[_ngcontent-%COMP%]{background-color:#b1f07e;border:5px solid #ced4da;border-radius:50%;padding:20px 15px 10px;width:100%;box-shadow:0 0 10px #0000001a}.card-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.card-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;color:#1e80e9}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]{flex-direction:column}.card-option[_ngcontent-%COMP%]{width:100%}}.modal-dialog[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{vertical-align:middle}"]});let a=l;return a})();export{Re as UsersComponent};
